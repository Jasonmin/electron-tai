<template class="task-template">

    <!-- <div id="login-modal" class="login-page section js-section u-category-system"> -->
    <!-- <div id="login-modal" class="login section js-section u-category-system modal "> -->
    <div id="login-modal" class="login section js-section u-category-system">

        <head>
            <h1 id="login_header">登录</h1>
            <meta charset="UTF-8">
            <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
            <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">

            <script>
                var data = window.localStorage.getItem('loginModel');
                console.log(data);

                var value = global.value
                console.log(value)
                function loginAction() {
                    var url = `${globalConfig.BaseUrl}/auth/jwt/login`;
                    let pwd = util_md5(`${globalConfig.password}`);
                    console.log("request start")
                    console.log(pwd)
                    fetch(url, {
                        method: "POST",
                        headers: {
                            'content-type': 'application/json'
                        },
                        body: JSON.stringify({
                            username: `${globalConfig.username}`,
                            password: pwd
                        })
                    })
                        .then(res => {
                            // {type: "cors", url: "https://124.204.65.86:14430/api/auth/jwt/login", redirected: false, status: 502, ok: false, …}
                            if (res) {
                                res.json().then(function (obj) {
                                    alert(`hehe:${JSON.stringify(obj)}`)
                                    localStorage.setItem('loginModel', JSON.stringify(obj));
                                })
                            }
                        })
                        .catch(error => {
                            alert('Error:', error)
                            console.log(error)
                        })
                }


            </script>
        </head>

        <!-- <img class="login-logo img-rounded" src="./img/logo@2x.png" srcset="./img/logo.png 1x,./img/logo@2x.png 2x,"> -->
        <!-- <div class="login-title" id="login_title_id">南昌全媒体大脑</div> -->

        <body>
            <input type="text" id="uname" class="lgoin-input form-control" placeholder="账号" name="username">
            <br>
            <input type="password" id="pwd" class="lgoin-input form-control" placeholder="密码" name="password">
            <br>
            <br>
            <button type="button" class="btn btn-danger btn-block login-button" onclick="loginAction()">登录</button>
            <div id="demo "></div>
            <div class="login-version ">V3.0</div>

            <div class="rainbow-button-wrapper">
                <button id="get-started" class="about-button modal-hide">Get Started</button>
              </div>
        </body>

        <script>

            // var loginTitle = document.getElementById('login_title_id')
            // loginTitle.innerHTML = `${globalConfig.cnName}`

            var h1Title = document.getElementById('login_header')
            h1Title.innerHTML = `${globalConfig.cnName}`
        </script>

    </div>

</template>